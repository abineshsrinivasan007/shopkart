{% extends 'shop/layout/main.html' %}
{% load static %}
{% block title %}
shopkart
{% endblock title %}

{% block content %}
<section class="bg-light py-4 my-5">
    <div class="container">
        <div class="row">
            <h4 class="mb-3">{{ name }}Products</h4>
            <hr style="border-color:#b8bfc2">
            {% include 'shop/inc/message.html' %}
            {% for item in products %}
            <div class="col-md-4 col-lg-3 d-flex justify-content-center">
                <div class="card my-3 d-flex flex-column" style="width: 18rem; border-radius: 15px; overflow: hidden;">
                <a href="{% url 'productdetails' name item.name %}" style="text-decoration: none;">
                    {% if item.product_image %}
                    <img src="{{ item.product_image.url }}" class="card-img-top" alt="{{ item.name }}" style="height: 200px; object-fit: cover; border-radius: 15px 15px 0 0;">
                    {% else %}
                    <img src="path/to/default/image.jpg" class="card-img-top" alt="Default Image" style="height: 200px; object-fit: cover; border-radius: 15px 15px 0 0;">
                    {% endif %}
                  
                        <div class="card-body d-flex flex-column justify-content-between" style="flex-grow: 1;">
                            <div>
                                <h5 class="card-title text-primary">{{ item.name }}</h5>
                                <p class="card-text">
                                   <span class="float-start old-price"><s>Rs.{{ item.original_price | stringformat:'d' }}</s></span> 
                                    <span class="float-end new-price">Rs.{{ item.selling_price | stringformat:'d' }}</span>
                                </p>
                            </div>
                            <div class="d-grid">
                               
                                <button class="btn btn-primary" style="width: 45%;">View Details</button>
                            </div>
                        </div>
                  </a>
                </div>
            </div>
            {% empty %}
            <p>No products available in this category.</p>
            {% endfor %}
        </div>
   
    </div>
</section>

{% endblock content %}
